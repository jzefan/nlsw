//
//   Created by ezefjia on 2015/1/1.

extends ../layout
block content
  div.row(style="margin:0 5px -10px 0")
    button#filter.btn.btn-default(data-toggle="tooltip", data-placement='bottom', title="根据条件进行提单过滤", style="margin-right:5px")
      i.fa.fa-search-plus
      | &nbsp;查询过滤

    button#account-checking-export.btn.btn-default(style="margin-right:5px;")
      i.fa.fa-adjust
      | &nbsp;导出对账数据

    button#search-export.btn.btn-default(style="margin-right:15px;")
      i.fa.fa-external-link-square
      | &nbsp;导出

    //button#adjust-data.btn.btn-default(style="margin-right:15px;")
      i.fa.fa-adjust
      | &nbsp;修正数据


    input#show-not-sent(type='checkbox', name="show-not-sent")
    label(for="show-not-sent", style="margin-left:3px; margin-right:10px; margin-top:6px;font-weight:normal", title="显示或隐藏还未配发的数据") &nbsp;未配发数据

    h5.pull-right(style="margin-top:8px;") 当前行数:
      code#curr-number 0
    h5#lb-send-weight.pull-right(style="margin-top:8px;margin-right:10px;") 总重量:
      code#lb-total-weight 0
    h5#lb-send-num.pull-right(style="margin-top:8px;margin-right:10px;") 发运块数:
      code#lb-total-num 0
  hr

  div#filter-ui.form-horizontal
    .row(style="margin-right:10px;")
      .col-md-4
        .form-group
          label.control-label.col-sm-4(for='bf-bill-name') 开单名称
          .input-group.col-sm-8
            select#bf-bill-name.form-control(multiple="multiple")
      .col-md-4
        .form-group
          label.control-label.col-sm-4(for='bf-vehicle') 车船号
          .input-group.col-sm-8
            select#bf-vehicle.form-control(multiple="multiple")
      .col-md-4
        .form-group
          label.control-label.col-sm-4(for='bf-destination') 目的地
          .input-group.col-sm-8
            select#bf-destination.form-control(multiple="multiple")
    .row(style="margin-right:10px;")
      .col-md-4
        .form-group
          label.control-label.col-sm-4(for='bf-customer') 发货单位
          .input-group.col-sm-8
            select#bf-customer.form-control
      .col-md-4
        .form-group
          label.control-label.col-sm-4(for='bf-order-no') 订单号
          .input-group.col-sm-8
            input#bf-order-no.form-control(type='text', name='bf-order-no')
      .col-md-4
        .form-group
          label.control-label.col-sm-4(for='bf-bill-no') 提单号
          .input-group.col-sm-8
            input#bf-bill-no.form-control(type='text', name='bf-bill-no')
    .row(style="margin-right:10px;")
      .col-md-4
        .form-group
          label.control-label.col-sm-4(for='start-date') 发货日期(开始)
          div.input-group.date#start-date-grp
            input#start-date.form-control(type='text', name='start-date', data-date-format="YYYY-MM-DD")
            span.input-group-addon
              i.fa.fa-calendar
      .col-md-4
        .form-group
          label.control-label.col-sm-4(for='end-date') 发货日期(结束)
          .input-group.date#end-date-grp
            input#end-date.form-control(type='text', name='end-date', data-date-format="YYYY-MM-DD")
            span.input-group-addon
              i.fa.fa-calendar
      .col-md-4
        .form-group
          .col-sm-2
          input#to-ship-vessel(type='checkbox', name="to-ship-vessel")
          label(for="to-ship-vessel", style="margin-left:3px; margin-right:10px; margin-top:5px;font-size:14px; font-weight:normal;text-decoration:underline;", title="显示或隐藏目的地为船数据") 目的地为船数据
          button#query-ok.btn.btn-primary.pull-right
            i.fa.fa-search
            | &nbsp;查询确定

  div(style="overflow:scroll;")
    table#query-table.table.invoice-table.table-bordered.tablesorter(style='margin-bottom: 0px !important; clear:both;min-width:180%;')
      thead
        tr#table-thead
          th 已配发的结算状态
          th 提单状态
          th 订单号
          th 提单号
          th 开单名称
          th 车船号
          th 目的地
          th 发运块数
          th#head-weight 发运重量
          th 客户单价
          th 应付单价
          th 发货日期
          th 发货人
          th 运单号
          th 发货仓库
          th 牌号
          th 厚
          th 宽
          th 长
          th 尺寸
          th 总块数
          th 总重量
          th 合同号
          th 销售部门
          th 创建日期
          th 创建人
      tbody#table-tbody

  script.
    var local_data = !{JSON.stringify(dData)};
